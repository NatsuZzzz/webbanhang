<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng k√Ω th√†nh vi√™n - Foodie Express</title>
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn-icons-png.flaticon.com/512/706/706164.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* 1. RESET & BASIC SETUP */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f8f9fa; color: #2f3542; display: flex; justify-content: center; padding: 40px 0; }
        .register-container { width: 100%; max-width: 480px; padding: 35px; background: white; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        
        /* LOGO & BRAND */
        .logos { display: flex; align-items: center; gap: 10px; margin-bottom: 30px; color: #ff4757; }
        .logos i { font-size: 32px; }
        .brand-name { font-size: 24px; font-weight: 900; color: #2f3542; letter-spacing: -1px; }

        /* HEADER */
        .header-text h1 { font-size: 24px; font-weight: 700; line-height: 1.3; margin-bottom: 12px; color: #111; }
        .sub-text { font-size: 14px; color: #747d8c; margin-bottom: 24px; line-height: 1.5; }
        .sub-text strong { color: #2f3542; }
        .sub-text a { text-decoration: underline; color: #ff4757; margin-left: 5px; font-weight: 600; }

        /* FORM */
        .form-group { margin-bottom: 20px; position: relative; }
        input, select { width: 100%; padding: 14px 16px; border: 1px solid #dcdde1; border-radius: 10px; font-size: 15px; outline: none; transition: all 0.2s; }
        input:focus, select:focus { border-color: #ff4757; box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.1); }

        /* ERROR STYLES */
        .input-error { border-color: #ff4757 !important; background-color: #fffafb; }
        .error-text { color: #ff4757; font-size: 12px; margin-top: 6px; font-weight: 500; }
        
        .row-double { display: flex; gap: 16px; }
        .row-double .form-group { flex: 1; }
        
        .helper-text { font-size: 12px; color: #a4b0be; margin-top: 6px; display: flex; justify-content: space-between; }
        .password-toggle { position: absolute; right: 15px; top: 15px; cursor: pointer; color: #747d8c; font-size: 18px; }

        /* DOB */
        .dob-label { font-size: 14px; color: #2f3542; font-weight: 600; margin-bottom: 10px; }
        .dob-container { display: flex; gap: 10px; }
        .dob-container input { text-align: center; }
        .dob-note { font-size: 12px; color: #747d8c; margin-top: 10px; text-align: center; margin-bottom: 20px; }

        /* CHECKBOX */
        .checkbox-group { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; }
        .checkbox-group input[type="checkbox"] { width: 18px; height: 18px; margin-top: 2px; accent-color: #ff4757; cursor: pointer; }
        .checkbox-group label { font-size: 13px; color: #57606f; line-height: 1.5; cursor: pointer; }
        .checkbox-group a { color: #ff4757; text-decoration: none; font-weight: 600; }

        /* BUTTON */
        .btn-submit { width: 100%; background-color: #ff4757; color: #fff; padding: 16px; font-size: 16px; font-weight: 700; border: none; border-radius: 10px; cursor: pointer; margin-top: 10px; transition: background 0.3s; }
        .btn-submit:hover { background-color: #ff6b81; }
    </style>
</head>
<body>

    <div class="register-container">
        <div class="logos">
            <i class="fa-solid fa-utensils"></i>
            <span class="brand-name">FOODIE EXPRESS</span>
        </div>

        <div class="header-text">
            <h1>Tr·ªü th√†nh t√≠n ƒë·ªì ·∫©m th·ª±c c√πng Foodie Express. üçï</h1>
            <p class="sub-text">
                M√£ x√°c nh·∫≠n ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn ƒë·ªãa ch·ªâ: <br> 
                <strong th:text="${registerForm.email != null} ? ${registerForm.email} : 'khachhang@gmail.com'">
                </strong> 
                <a th:href="@{/checkMail}">Thay ƒë·ªïi</a>
            </p>
        </div>

        <form th:action="@{/register}" th:object="${registerForm}" method="POST">
            
            <input type="hidden" th:field="*{email}">

            <div class="form-group">
                <input type="text" placeholder="Nh·∫≠p m√£ 6 ch·ªØ s·ªë*" 
                       th:field="*{code}"
                       th:classappend="${#fields.hasErrors('code')} ? 'input-error' : ''">
                
                <div class="error-text" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></div>
                
                <div class="helper-text">
                    <span></span> <span>G·ª≠i l·∫°i m√£ sau 8 gi√¢y</span>
                </div>
            </div>

            <div class="row-double">
                <div class="form-group">
                    <input type="text" placeholder="T√™n c·ªßa b·∫°n*" 
                           th:field="*{firstName}"
                           th:classappend="${#fields.hasErrors('firstName')} ? 'input-error' : ''">
                    <div class="error-text" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>
                </div>
                <div class="form-group">
                    <input type="text" placeholder="H·ªç*" 
                           th:field="*{surname}"
                           th:classappend="${#fields.hasErrors('surname')} ? 'input-error' : ''">
                    <div class="error-text" th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}"></div>
                </div>
            </div>

            <div class="form-group">
                <input type="password" id="password" placeholder="M·∫≠t kh·∫©u*"
                       th:field="*{password}"
                       th:classappend="${#fields.hasErrors('password')} ? 'input-error' : ''">
                <i class="fa-regular fa-eye password-toggle" onclick="togglePassword()"></i>
                
                <div class="error-text" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>

                <div class="helper-text">
                    <span>√ó √çt nh·∫•t 8 k√Ω t·ª±</span>
                </div>
                <div class="helper-text">
                    <span>√ó G·ªìm ch·ªØ hoa, ch·ªØ th∆∞·ªùng v√† s·ªë</span>
                </div>
            </div>

            <div class="form-group">
                <select th:field="*{shoppingPreference}" 
                        th:classappend="${#fields.hasErrors('shoppingPreference')} ? 'input-error' : ''">
                    <option value="" disabled selected>B·∫°n th√≠ch ƒÉn g√¨ nh·∫•t?*</option>
                    <option value="asian">M√≥n √Å (C∆°m, B√∫n, Ph·ªü)</option>
                    <option value="western">M√≥n √Çu (Pizza, Burger)</option>
                    <option value="healthy">Healthy & Clean Eat</option>
                    <option value="snack">ƒÇn v·∫∑t & Tr√°ng mi·ªáng</option>
                </select>
                <div class="error-text" th:if="${#fields.hasErrors('shoppingPreference')}" th:errors="*{shoppingPreference}"></div>
            </div>

            <div class="dob-label">Ng√†y sinh c·ªßa b·∫°n</div>
            <div class="dob-container">
                <input type="text" placeholder="Ng√†y" th:field="*{dobDay}" th:classappend="${#fields.hasErrors('dobDay')} ? 'input-error' : ''">
                <input type="text" placeholder="Th√°ng" th:field="*{dobMonth}" th:classappend="${#fields.hasErrors('dobMonth')} ? 'input-error' : ''">
                <input type="text" placeholder="NƒÉm" th:field="*{dobYear}" th:classappend="${#fields.hasErrors('dobYear')} ? 'input-error' : ''">
            </div>
            <div class="error-text" th:if="${#fields.hasErrors('dobDay')}" th:text="'Vui l√≤ng cung c·∫•p ng√†y sinh'"></div>
            
            <p class="dob-note">Ch√∫ng t√¥i s·∫Ω g·ª≠i t·∫∑ng b·∫°n m·ªôt b·ªØa ti·ªác b·∫•t ng·ªù v√†o ng√†y sinh nh·∫≠t! üéÇ</p>

            <div class="checkbox-group">
                <input type="checkbox" id="signup-email" th:field="*{emailSignup}">
                <label for="signup-email">ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o v·ªÅ c√°c m√£ gi·∫£m gi√° v√† m√≥n ngon ƒë·ªôc quy·ªÅn m·ªói ng√†y.</label>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="terms" th:field="*{agreeTerms}">
                <label for="terms">T√¥i ƒë·ªìng √Ω v·ªõi <a href="#">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a> v√† <a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a> c·ªßa Foodie Express.</label>
            </div>
            <div class="error-text" th:if="${#fields.hasErrors('agreeTerms')}" th:errors="*{agreeTerms}"></div>

            <button type="submit" class="btn-submit">T·∫°o t√†i kho·∫£n ngay</button>

        </form>
    </div>

    <script>
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const icon = document.querySelector('.password-toggle');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }
    </script>

</body>
</html>